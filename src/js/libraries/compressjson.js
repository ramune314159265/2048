/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.37.0.
 * Original file: /npm/compress-json@3.1.1/dist/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var e={},t={},n={};function r(e){return Object.prototype.toString.call(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.throwUnsupportedData=n.throwUnknownDataType=n.getType=void 0,n.getType=r,n.throwUnknownDataType=function(e){throw new TypeError("unsupported data type: "+r(e))},n.throwUnsupportedData=function(e){throw new TypeError("unsupported data type: "+e)};var o={},c={};Object.defineProperty(c,"__esModule",{value:!0}),c.s_to_num=c.int_str_to_s=c.num_to_s=c.big_int_to_s=c.int_to_s=c.s_to_big_int=c.s_to_int=void 0;let i="";for(let e=0;e<10;e++){const t=String.fromCharCode(48+e);i+=t}for(let e=0;e<26;e++){const t=String.fromCharCode(65+e);i+=t}for(let e=0;e<26;e++){const t=String.fromCharCode(97+e);i+=t}const u=i.length,s={};for(let e=0;e<u;e++){const t=i[e];s[t]=e}function a(e){let t=0,n=1;for(let r=e.length-1;r>=0;r--){const o=e[r];let c=s[o];c*=n,t+=c,n*=u}return t}function d(e){let t=BigInt(0),n=BigInt(1);const r=BigInt(u);for(let o=e.length-1;o>=0;o--){const c=e[o];let i=BigInt(s[c]);i*=n,t+=i,n*=r}return t}function f(e){if(0===e)return i[0];const t=[];for(;0!==e;){const n=e%u,r=i[n];t.push(r),e-=n,e/=u}return t.reverse().join("")}function l(e){const t=BigInt(0),n=BigInt(u);if(e===t)return i[0];const r=[];for(;e!==t;){const t=i[Number(e%n)];r.push(t),e/=n}return r.reverse().join("")}function m(e){return e.split("").reverse().join("")}function _(e){const t=+e;return t.toString()===e&&t+1!==t&&t-1!==t?f(t):":"+l(BigInt(e))}function p(e){return":"===e[0]?d(e.substring(1)).toString():a(e).toString()}c.s_to_int=a,c.s_to_big_int=d,c.int_to_s=f,c.big_int_to_s=l,c.num_to_s=function e(t){if(t<0)return"-"+e(-t);let n,[r,o]=t.toString().split(".");if(!o){if(!r.includes("e"))return f(t);{const[e,t]=r.split("e");r=e,o="0e"+t}}o&&([o,n]=o.split("e")),r=_(r),o=m(o),o=_(o);let c=r+"."+o;if(n){switch(c+=".",n[0]){case"+":n=n.slice(1);break;case"-":c+="-",n=n.slice(1)}n=_(n),c+=n}return c},c.int_str_to_s=_,c.s_to_num=function e(t){if("-"===t[0])return-e(t.substr(1));let[n,r,o]=t.split(".");if(!r)return a(n);n=p(n),r=p(r),r=m(r);let c=n+"."+r;if(o){c+="e";let e=!1;"-"===o[0]&&(e=!0,o=o.slice(1)),o=p(o),c+=e?-o:+o}return+c},Object.defineProperty(o,"__esModule",{value:!0}),o.decodeStr=o.encodeStr=o.decodeBool=o.encodeBool=o.decodeKey=o.decodeNum=o.encodeNum=void 0;const y=c;o.encodeNum=function(e){return"n|"+(0,y.num_to_s)(e)},o.decodeNum=function(e){return e=e.replace("n|",""),(0,y.s_to_num)(e)},o.decodeKey=function(e){return"number"==typeof e?e:(0,y.s_to_int)(e)},o.encodeBool=function(e){return e?"b|T":"b|F"},o.decodeBool=function(e){switch(e){case"b|T":return!0;case"b|F":return!1}return!!e},o.encodeStr=function(e){switch(e[0]+e[1]){case"b|":case"o|":case"n|":case"a|":case"s|":e="s|"+e}return e},o.decodeStr=function(e){return"s|"===e[0]+e[1]?e.substr(2):e};var b={},h={};Object.defineProperty(h,"__esModule",{value:!0}),h.config=void 0,h.config={sort_key:!1,error_on_nan:!1,error_on_infinite:!1},Object.defineProperty(b,"__esModule",{value:!0}),b.addValue=b.makeInMemoryMemory=b.makeInMemoryCache=b.makeInMemoryStore=b.memToValues=void 0;const g=h,v=n,j=o,S=c;function w(){const e=[];return{forEach(t){for(let n=0;n<e.length;n++)if("break"===t(e[n]))return},add(t){e.push(t)},toArray:()=>e}}function I(){const e=Object.create(null),t=Object.create(null);return{getValue:t=>e[t],getSchema:e=>t[e],forEachValue(t){for(const[n,r]of Object.entries(e))if("break"===t(n,r))return},forEachSchema(e){for(const[n,r]of Object.entries(t))if("break"===e(n,r))return},setValue(t,n){e[t]=n},setSchema(e,n){t[e]=n},hasValue:t=>t in e,hasSchema:e=>e in t}}function O(e,t){if(e.cache.hasValue(t))return e.cache.getValue(t);const n=e.keyCount++,r=(0,S.num_to_s)(n);return e.store.add(t),e.cache.setValue(t,r),r}function U(e,t,n){if(null===t)return"";switch(typeof t){case"undefined":if(Array.isArray(n))return U(e,null,n);break;case"object":if(null===t)return O(e,null);if(Array.isArray(t)){let n="a";for(let r=0;r<t.length;r++){const o=t[r];n+="|"+(null===o?"_":U(e,o,t))}return"a"===n&&(n="a|"),O(e,n)}{const n=Object.keys(t);if(0===n.length)return O(e,"o|");let r="o";const o=function(e,t){g.config.sort_key&&t.sort();const n=t.join(",");if(e.cache.hasSchema(n))return e.cache.getSchema(n);const r=U(e,t,void 0);return e.cache.setSchema(n,r),r}(e,n);r+="|"+o;for(const o of n){r+="|"+U(e,t[o],t)}return O(e,r)}case"boolean":return O(e,(0,j.encodeBool)(t));case"number":return Number.isNaN(t)?(g.config.error_on_nan&&(0,v.throwUnsupportedData)("[number NaN]"),""):Number.POSITIVE_INFINITY===t||Number.NEGATIVE_INFINITY===t?(g.config.error_on_infinite&&(0,v.throwUnsupportedData)("[number Infinity]"),""):O(e,(0,j.encodeNum)(t));case"string":return O(e,(0,j.encodeStr)(t))}return(0,v.throwUnknownDataType)(t)}b.memToValues=function(e){return e.store.toArray()},b.makeInMemoryStore=w,b.makeInMemoryCache=I,b.makeInMemoryMemory=function(){return{store:w(),cache:I(),keyCount:0}},b.addValue=U,Object.defineProperty(t,"__esModule",{value:!0}),t.decompress=t.decode=t.compress=void 0;const k=n,V=o,M=b;function N(e,t){if(""===t||"_"===t)return null;const n=e[(0,V.decodeKey)(t)];if(null===n)return n;switch(typeof n){case"undefined":case"number":return n;case"string":switch(n[0]+n[1]){case"b|":return(0,V.decodeBool)(n);case"o|":return function(e,t){if("o|"===t)return{};const n={},r=t.split("|");let o=N(e,r[1]);const c=r.length;c-2!=1||Array.isArray(o)||(o=[o]);for(let t=2;t<c;t++){const c=o[t-2];let i=r[t];i=N(e,i),n[c]=i}return n}(e,n);case"n|":return(0,V.decodeNum)(n);case"a|":return function(e,t){if("a|"===t)return[];const n=t.split("|"),r=n.length-1,o=new Array(r);for(let t=0;t<r;t++){let r=n[t+1];r=N(e,r),o[t]=r}return o}(e,n);default:return(0,V.decodeStr)(n)}}return(0,k.throwUnknownDataType)(n)}t.compress=function(e){const t=(0,M.makeInMemoryMemory)(),n=(0,M.addValue)(t,e,void 0);return[(0,M.memToValues)(t),n]},t.decode=N,t.decompress=function(e){const[t,n]=e;return N(t,n)};var T={};function P(e,t){t.add(e);for(const n in e)if(void 0===e[n])delete e[n];else{const r=e[n];r&&"object"==typeof r&&!t.has(r)&&P(r,t)}}Object.defineProperty(T,"__esModule",{value:!0}),T.trimUndefinedRecursively=T.trimUndefined=void 0,T.trimUndefined=function(e){for(const t in e)void 0===e[t]&&delete e[t]},T.trimUndefinedRecursively=function(e){P(e,new Set)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.config=e.trimUndefinedRecursively=e.trimUndefined=e.addValue=e.decode=e.decompress=e.compress=void 0;var n=t;Object.defineProperty(e,"compress",{enumerable:!0,get:function(){return n.compress}}),Object.defineProperty(e,"decompress",{enumerable:!0,get:function(){return n.decompress}});var r=t;Object.defineProperty(e,"decode",{enumerable:!0,get:function(){return r.decode}});var o=b;Object.defineProperty(e,"addValue",{enumerable:!0,get:function(){return o.addValue}});var c=T;Object.defineProperty(e,"trimUndefined",{enumerable:!0,get:function(){return c.trimUndefined}}),Object.defineProperty(e,"trimUndefinedRecursively",{enumerable:!0,get:function(){return c.trimUndefinedRecursively}});var i=h;Object.defineProperty(e,"config",{enumerable:!0,get:function(){return i.config}})}(e);var B=e.__esModule,A=e.addValue,C=e.compress,D=e.config,E=e.decode,R=e.decompress,F=e.trimUndefined,K=e.trimUndefinedRecursively;export { B as __esModule, A as addValue, C as compress, D as config, E as decode, R as decompress, e as default, F as trimUndefined, K as trimUndefinedRecursively };
//# sourceMappingURL=/sm/9af7ab1c39593993f98d46118e9c9e371d8ea0b9ecd6a4018818552be76665f3.map
